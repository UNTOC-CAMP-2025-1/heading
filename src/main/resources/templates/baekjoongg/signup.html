<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="signup.css" />
    <title>BAEKJOONGG</title>
  </head>


<header class="site-header">
    <div class="header-container">
      <div class="header-content">
        <img
          src="./img/임시로고.png"
          alt="Baekjoon Helper Logo"
          class="site-logo"
        />
        <div class="site-title"><a href="./index.html" class="nav-link">BAEKJOON.GG</a></div>
        <nav class="main-nav">
          <ul class="nav-list">
            <li><a href="#" class="nav-link">랭킹</a></li>
            <li><a href="#" class="nav-link">문제</a></li>
            <li><a href="#" class="nav-link">커뮤니티</a></li>
            <li><a href="#" class="nav-link">내정보</a></li>
          </ul>
        </nav>
        <div class="auth-section">
          <a href="./signup.html" class="auth-link">회원가입</a>
          <span>/</span>
          <a href="./login.html" class="auth-link">로그인</a>
        </div>
      </div>
    </div>
  </header>
  
  <div class="page-title">회원가입</div>
  
  <main class="main-content">
    <section class="signup-container">
      <div class="signup-header">
        <h1 class="signup-title">회원가입</h1>
        <p class="signup-text">
          계정이 이미 있는 경우에는 <a href="#" class="link">로그인</a>해주세요.
        </p>
        <p class="signup-text">
          가입을 하면 백준 지지의 <a href="#" class="link">이용약관</a>,
          <a href="#" class="link">개인정보취급방침 및 개인정보3자제공</a>에
          동의하게 됩니다.
        </p>
        <p class="signup-notice">
          아이디가 구글 검색에 노출되는 것을 원치않는 분은 다른 곳에서 사용하지
          않는 아이디를 사용해주세요.
        </p>
        <p class="signup-notice">
          아이디의 구글 검색 노출은 회원가입 후 정보 수정에서 변경할 수 있습니다.
        </p>
        <p class="signup-notice">가입 후 아이디는 변경할 수 없습니다.</p>
      </div>
  
      <form class="signup-form">
        <div class="form-group">
          <label class="form-label">아이디</label>
          <div class="input-group">
            <input type="text" class="form-input" />
            <button type="button" class="btn-primary" style="width: 100px;">중복체크</button>
          </div>
        </div>
  
        <div class="form-group">
          <label class="form-label"
            >상태 메시지 (다른 사람에게 보이고 싶은 한마디)</label
          >
          <input type="text" class="form-input" />
        </div>
  
        <div class="password-group">
          <div class="form-group" style="width: 50%;">
            <label class="form-label">비밀번호</label>
            <input type="password" class="form-input" style="width: 90%;"/>
          </div>
          <div class="form-group" style="width: 50%;">
            <label class="form-label">비밀번호 (확인)</label>
            <input type="password" class="form-input" style="width: 90%;"/>
          </div>
        </div>
  
        <div class="form-group">
          <label class="form-label">백준 아이디</label>
          <div class="input-group">
            <input type="text" class="form-input" />
            <button type="button" class="btn-primary" style="width: 80px;">인증</button>
          </div>
        </div>
  
        <div class="form-group">
          <label class="form-label">이메일</label>
          <input type="email" class="form-input" />
        </div>
  
        <div class="recaptcha-container">
          <div class="recaptcha-box">
            <div class="recaptcha-checkbox">
              <input type="checkbox" class="recaptcha-input" />
              <span class="recaptcha-text">로봇이 아닙니다.</span>
            </div>
            <img
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/1fd2e263a7b0395062954291c36cc48d1021dffb"
              alt="reCAPTCHA logo"
              class="recaptcha-logo"
            />
            <div class="recaptcha-branding">reCAPTCHA</div>
            <div class="recaptcha-links">
              <a href="https://www.google.com/intl/ko/policies/terms/" target="_blank" class="recaptcha-link">개인정보 보호</a>
              <span>-</span>
              <a href="https://www.google.com/intl/ko/policies/privacy/" target="_blank" class="recaptcha-link">약관</a>
            </div>
          </div>
        </div>
  
        <div class="newsletter-signup">
          <input type="checkbox" id="newsletter" />
          <label for="newsletter"
            >대회 안내/강의 안내/기타 안내 및 광고 이메일 받기</label
          >
        </div>
  
        <button type="submit" class="btn-submit">회원가입</button>
      </form>
    </section>
  </main>


  <script>
    // 아이디 검사
    const idInput = document.querySelectorAll('.form-input')[0]; // 첫 번째 input = 아이디
    const idFormGroup = idInput.closest('.form-group'); // 아이디 input이 포함된 form-group
  
    // 조건 설명 문구 추가 (form-group 하단에 추가)
    const idMessage = document.createElement("div");
    idMessage.textContent = "3글자 이상, 20글자 이하만 가능합니다.";
    idMessage.style.fontSize = "12px";
    idMessage.style.color = "#777";
    idMessage.style.marginTop = "5px";
    idFormGroup.appendChild(idMessage);
  
    idInput.addEventListener('input', () => {
      const idLength = idInput.value.length;
      if (idLength >= 3 && idLength <= 20) {
        idInput.style.borderColor = "green";
        idMessage.style.color = "green";
      } else {
        idInput.style.borderColor = "red";
        idMessage.style.color = "red";
      }
    });
  
    // 비밀번호 확인 검사
    const pwInput = document.querySelectorAll('.form-input')[2]; // 비밀번호
    const pwCheckInput = document.querySelectorAll('.form-input')[3]; // 비밀번호 확인
  
    const pwCheckMessage = document.createElement("div");
    pwCheckMessage.textContent = "비밀번호가 일치하지 않습니다.";
    pwCheckMessage.style.fontSize = "12px";
    pwCheckMessage.style.color = "red";
    pwCheckMessage.style.marginTop = "5px";
    pwCheckMessage.style.display = "none";
  
    pwCheckInput.parentElement.appendChild(pwCheckMessage);
  
    pwCheckInput.addEventListener('input', () => {
      if (pwCheckInput.value === pwInput.value) {
        pwCheckInput.style.borderColor = "green";
        pwCheckMessage.style.display = "none";
      } else {
        pwCheckInput.style.borderColor = "red";
        pwCheckMessage.style.display = "block";
      }
    });

      // 회원가입 폼 제출 검사
  const signupForm = document.querySelector('.signup-form');
  signupForm.addEventListener('submit', function(event) {
    event.preventDefault(); // 기본 제출 동작 중단

    // form 내에 존재하는 모든 .form-input 요소를 순서대로 가져옴
    const inputs = document.querySelectorAll('.signup-form .form-input');
    const 아이디 = inputs[0].value.trim();
    const 상태메세지 = inputs[1].value.trim();
    const 비밀번호 = inputs[2].value;
    const 비밀번호확인 = inputs[3].value;
    const 백준아이디 = inputs[4].value.trim();
    const 이메일 = inputs[5].value.trim();

    // recaptcha 체크박스 확인 (.recaptcha-input)
    const recaptchaChecked = document.querySelector('.recaptcha-input').checked;

    let errorMsg = "";

    if (!아이디) {
      errorMsg += "아이디를 입력해주세요.\n";
    } else if (아이디.length < 3 || 아이디.length > 20) {
      errorMsg += "아이디는 3글자 이상, 20글자 이하로 입력해주세요.\n";
    }
    if (!상태메세지) {
      errorMsg += "상태메세지를 입력해주세요.\n";
    }
    if (!비밀번호) {
      errorMsg += "비밀번호를 입력해주세요.\n";
    }
    if (!비밀번호확인) {
      errorMsg += "비밀번호 확인을 입력해주세요.\n";
    }
    if (비밀번호 && 비밀번호확인 && (비밀번호 !== 비밀번호확인)) {
      errorMsg += "비밀번호와 비밀번호 확인이 일치하지 않습니다.\n";
    }
    if (!백준아이디) {
      errorMsg += "백준 아이디를 입력해주세요.\n";
    }
    if (!이메일) {
      errorMsg += "이메일을 입력해주세요.\n";
    }
    if (!recaptchaChecked) {
      errorMsg += "캡차를 확인해주세요.\n";
    }

    // 에러가 있다면 alert로 상세메시지 출력, 모두 입력되었으면 완료메시지 출력
    if (errorMsg) {
      alert(errorMsg);
    } else {
      alert("회원가입이 완료되었습니다");
      // 실제 백엔드 연동 시에는 이곳에서 폼 제출 혹은 다른 동작 수행
    }
  });
  </script>
  