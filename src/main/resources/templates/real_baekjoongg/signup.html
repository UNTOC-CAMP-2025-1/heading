<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>백준지지</title>
    <link rel="stylesheet" href="signup.css">
    <link rel="stylesheet" href="nav.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap">
</head>

<body>
    <nav class="nav-main">
    
        <div OnClick="location.href ='index.html'" style="cursor:pointer;" class="nav-left">
            <img src="./img/임시로고.png" alt="Baekjoon GG Logo" class="site-logo" />
            <p style="float: right;">BAEKJOON.GG</p>
        </div>
    
        <div class="nav-mid">
            <a style="margin-left: 10%;" href="ranking.html" class="nav-link">랭킹</a>
            <a href="problem.html" class="nav-link">문제</a>
            <a href="community.html" class="nav-link">커뮤니티</a>
            <a href="search.html" class="nav-link">프로필</a>
        </div>
        <div class="nav-right">
            <a href="signup.html" class="auth-link">사용자등록</a>
        </div>
    
    </nav>
    <div style="width: 100%; display: flex; justify-content: left; border-bottom: 0.64px solid #eee;">
        <div class="page-title">
            사용자등록
        </div>
    </div>
    <main>
        <section class="signup-container">
            <div class="signup-header">
                <h1 class="signup-title">사용자등록</h1>
                <p class="signup-text">
                    등록을 하면 백준 지지의 <a href="#" class="link">이용약관</a>,
                    <a href="#" class="link">개인정보취급방침 및 개인정보3자제공</a>에
                    동의하게 됩니다.
                </p>
                <p class="signup-notice">
                    닉네임, 상태 메시지, 목표치는 회원가입 후 정보 수정에서 변경할 수 있습니다.
                </p>
                <!-- <div class="signup-highlight"> -->
                    <p class="signup-notice">
                        ‘인증번호 받기’를 누르면 인증번호가 발급됩니다.
                    </p>
                    <p class="signup-notice"><a target="_blank" href="https://solved.ac/" class="link">solved.ac 프로필 편집</a>에서 백준 상태 메시지를 해당 값으로 변경한 뒤, 인증완료 버튼을 눌러 주세요.</p>
                <!-- </div> -->
            </div>
        
            <form class="signup-form">
                <!-- 여기 액션으로 정보 보내야됨 -->
                <div class="form-group">
                    <label for="nickname" class="form-label">닉네임</label>
                    <div class="input-group">
                        <input type="text" class="form-input" id="nickname"/>
                        <button type="button" class="btn-primary" style="width: 120px;">중복확인</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="id" class="form-label">백준아이디</label>
                    <div class="input-group">
                        <input type="text" class="form-input" id="id"/>
                        <button type="button" class="btn-primary" style="width: 120px;">인증번호받기</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="number" class="form-label">아래의 인증번호로 백준상태메시지를 변경해주세요</label>
                    <div class="input-group">
                        <input type="text" class="form-input" id="number"/>
                        <button type="button" class="btn-primary" style="width: 120px;">인증하기</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email" class="form-label">이메일</label>
                    <div class="input-group">
                        <input type="email" class="form-input-nobutton" id="email"/>
                    </div>  
                </div>
                <div class="half-wrap">
                    <div class="form-group-half">
                        <label for="grade" class="form-label">학년</label>
                        <div class="input-group">
                            <select name="grade" class="form-input-nobutton" id="grade">
                                <option value="" selected disabled hidden></option>
                                <option value="1">1학년</option>
                                <option value="2">2학년</option>
                                <option value="3">3학년</option>
                                <option value="4">4학년</option>
                                <option value="5">졸업</option>
                            </select>
                        </div>
                    </div>
                
                    <div class="form-group-half">
                        <label for="field" class="form-label">학과</label>
                        <div class="input-group">
                            <select name="field" class="form-input-nobutton" id="field">
                                <option value="" selected disabled hidden></option>
                                <option value="volvo">정보컴퓨터공학부 컴퓨터공학전공</option>
                                <option value="saab">정보컴퓨터공학부 인공지능전공</option>
                                <option value="opel">나머지</option>
                                <option value="audi">몰라요</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="font-size: 12px; color: #777;margin: 0px 0px 20px 0px;">
                    목표로 하는 기한과 문제 풀이 수를 적어주세요. ex) 하루 한 문제
                </div>
                <div class="half-wrap">
                    <div class="form-group-half">
                        <label for="day" class="form-label">며칠동안</label>
                        <div class="input-group">
                            <select name="day" class="form-input-nobutton" id="day">
                                <option value="" selected disabled hidden></option>
                                <option style="color: green;" value="1">하루</option>
                                <option value="2">이틀</option>
                                <option value="7">일주일</option>
                                <option style="color: red;" value="30">한 달</option>
                            </select>
                        </div>
                    </div>
                
                    <div class="form-group-half">
                        <label for="amount" class="form-label">몇문제</label>
                        <div class="input-group">
                            <select name="amount" class="form-input-nobutton" id="amount">
                                <option value="" selected disabled hidden></option>
                                <option value="1">1문제</option>
                                <option value="2">2문제</option>
                                <option value="3">3문제</option>
                                <option value="5">5문제</option>
                                <option value="10">10문제</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="goal" class="form-label">목표티어</label>
                    <div class="input-group">
                        <select name="goal" class="form-input-nobutton" id="goal">
                            <option value="" selected disabled hidden></option>
                            <option value="Bronze">브론즈</option>
                            <option value="Silver">실버</option>
                            <option value="Gold">골드</option>
                            <option value="Platinum">플레티넘</option>
                            <option value="Diamond">다이아몬드</option>
                            <option value="Ruby">루비</option>
                        </select>
                    </div>
                </div>

                <div class="newsletter-signup">
                    <input type="checkbox" id="newsletter" />
                    <label for="newsletter">목표치 알람 및 기타 안내 이메일 받기</label>
                </div>
 
                <button type="submit" class="btn-submit" style="width: 120px;">사용자가입</button>
            </form>
        </section>
    </main>
    
    <footer>
        <div class="update">
            <p>업데이트</p>
        </div>
        <div class="footer-info">
            <div style="margin-left: 15%;">
                <p style="color: #ABABAB;">부산광역시 금정구 부산대학로63번길 2 (장전동) 부산대학교 소프트웨어융합교육원</p>
                <p style="color: #ABABAB;">TEL : 051-123-4567, 321, 1026</p>
                <p style="color: #D9D9D9">Copyright© Pusan National Univ. All Right Reserved.</p>
                <p style="color: #ABABAB;">Powered by <span style="color: #350FC0;">OnlineJudge</span> Version: 1d496146f0d67811dc8f187eaebeccdae1277a98</p>
            </div>

        </div>
    </footer>
    
    <script>
        // 아이디 검사
        const nicknameInput = document.querySelectorAll('.form-input')[0]; // 첫 번째 input = 닉네임
        const nicknameFormGroup = nicknameInput.closest('.form-group'); // 닉네임 input이 포함된 form-group

        // 조건 설명 문구 추가 (form-group 하단에 추가)
        const nicknameMessage = document.createElement("div");
        nicknameMessage.textContent = "3글자 이상, 20글자 이하만 가능합니다.";
        nicknameMessage.style.fontSize = "12px";
        nicknameMessage.style.color = "#777";
        nicknameMessage.style.marginTop = "5px";
        nicknameFormGroup.appendChild(nicknameMessage);

        nicknameInput.addEventListener('input', () => {
            const nicknameLength = nicknameInput.value.length;
            if (nicknameLength >= 3 && nicknameLength <= 20) {
                nicknameInput.style.borderColor = "green";
                nicknameMessage.style.color = "green";
            } else {
                nicknameInput.style.borderColor = "red";
                nicknameMessage.style.color = "red";
            }
        });

        // 비밀번호 확인 검사
        // const pwInput = document.querySelectorAll('.form-input')[2]; // 비밀번호
        // const pwCheckInput = document.querySelectorAll('.form-input')[3]; // 비밀번호 확인

        // const pwCheckMessage = document.createElement("div");
        // pwCheckMessage.textContent = "비밀번호가 일치하지 않습니다.";
        // pwCheckMessage.style.fontSize = "12px";
        // pwCheckMessage.style.color = "red";
        // pwCheckMessage.style.marginTop = "5px";
        // pwCheckMessage.style.display = "none";

        // pwCheckInput.parentElement.appendChild(pwCheckMessage);

        // pwCheckInput.addEventListener('input', () => {
        //     if (pwCheckInput.value === pwInput.value) {
        //         pwCheckInput.style.borderColor = "green";
        //         pwCheckMessage.style.display = "none";
        //     } else {
        //         pwCheckInput.style.borderColor = "red";
        //         pwCheckMessage.style.display = "block";
        //     }
        // });

        // 회원가입 폼 제출 검사
        const signupForm = document.querySelector('.signup-form');
        signupForm.addEventListener('submit', function (event) {
            event.preventDefault(); // 기본 제출 동작 중단

            // form 내에 존재하는 모든 .form-input 요소를 순서대로 가져옴
            const nickname = document.querySelector('#nickname').value.trim();
            const baekjoonId = document.querySelector('#id').value.trim();
            const code = document.querySelector('#number').value.trim();
            const email = document.querySelector('#email').value.trim();
            const grade = document.querySelector('#grade').value;
            const field = document.querySelector('#field').value;
            const day = document.querySelector('#day').value;
            const amount = document.querySelector('#amount').value;
            const goal = document.querySelector('#goal').value;


            // recaptcha 체크박스 확인 (.recaptcha-input)
            // const recaptchaChecked = document.querySelector('.recaptcha-input').checked;

            let errorMsg = "";

            if (!nickname) {
                errorMsg += "닉네임을 입력해주세요.\n";
            } else if (nickname.length < 3 || nickname.length > 20) {
                errorMsg += "닉네임은 3글자 이상, 20글자 이하로 입력해주세요.\n";
            }
            if (!baekjoonId) {
                errorMsg += "아이디를 입력해주세요.\n";
            }
            if (!code) {
                errorMsg += "인증번호를 입력해주세요.\n";
            }
            if (!email) {
                errorMsg += "이메일을 입력해주세요.\n";
            }
            if (!grade) {
                errorMsg += "학년을 입력해주세요.\n";
            }
            if (!field) {
                errorMsg += "학과을 입력해주세요.\n";
            }
            if (!day) {
                errorMsg += "기한을 입력해주세요..\n";
            }
            if (!amount) {
                errorMsg += "목표문제수를 입력해주세요.\n";
            }
            if (!goal) {
                errorMsg += "목표치 입력해주세요.\n";
            }


            // 에러가 있다면 alert로 상세메시지 출력, 모두 입력되었으면 완료메시지 출력
            if (errorMsg) {
                alert(errorMsg);
            } else {
                alert("회원가입이 완료되었습니다");
                // 실제 백엔드 연동 시에는 이곳에서 폼 제출 혹은 다른 동작 수행
            }
        });
    </script>


</body>

</html>